function shareWindow(a){var b=500,c=500;window.open(a,"","scrollbars=1,height="+Math.min(b,screen.availHeight)+",width="+Math.min(c,screen.availWidth)+",left="+Math.max(0,(screen.availWidth-c)/2)+",top="+Math.max(0,(screen.availHeight-b)/2))}function gid(a){return document.getElementById(a)}function isValidEmail(a){return/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(a)}function showload(){}function setCookie(a,b,c){var d=new Date;d.setTime(d.getTime()+1e3*c),document.cookie=a+"="+escape(b)+"; expires="+d.toGMTString()+"; path=/;"}function getCookie(a){for(var a=a,b=a+"=",c=b.length,d=document.cookie.length,e=0;e<d;){var f=e+c;if(document.cookie.substring(e,f)==b){var g=document.cookie.indexOf(";",f);return g==-1&&(g=document.cookie.length),unescape(document.cookie.substring(f,g))}if(e=document.cookie.indexOf(" ",e)+1,0==e)break}return!1}function switchBlock(a){var b="img_"+a;"none"!=gid("block_"+a).style.display?(showhide("block_"+a),gid(b).src="media/other/close.png",setCookie("Block_"+a,!0,31536e6)):(showhide("block_"+a),gid(b).src="media/other/open.png",delCookie("Block_"+a))}function fixAP(){"absolute"==gid("_adminBar").style.position?(gid("_adminBar").style.position="fixed",setCookie("fixAP","ok",31536e6),gid("fixAP").innerHTML="фиксировать"):(gid("_adminBar").style.position="absolute",delCookie("fixAP"),gid("fixAP").innerHTML="убрать фиксацию")}function delCookie(a){setCookie(a,getCookie(a),-1)}function showhide(a,b){gid(a).style.display="none"==gid(a).style.display?"block":"none"}function hide(a){gid(a).style.display="none"}function show(a){gid(a).style.display="block"}function getConfirm(a){return!!confirm(a)}function htmlSpecialChars(a){return a=a.replace("&","||and||"),a=a.replace("<","||men||"),a=a.replace(">","||bol||")}function setCheckboxes(a,b){var c="undefined"!=typeof document.forms[a].elements["selected_db[]"]?document.forms[a].elements["selected_db[]"]:"undefined"!=typeof document.forms[a].elements["checks[]"]?document.forms[a].elements["checks[]"]:document.forms[a].elements["selected_fld[]"],d="undefined"!=typeof c.length?c.length:0;if(d)for(var e=0;e<d;e++)1==c[e].checked?c[e].checked=!1:c[e].checked=!0;else 1==c.checked?c.checked=!1:c.checked=!0;return!0}function ButtonDisable(a){if(document.all||document.getElementById)for(i=0;i<a.length;i++){var b=a.elements[i];"submit"!=b.type.toLowerCase()&&"reset"!=b.type.toLowerCase()||(b.disabled=!0)}}function ButtonAllow(a){if(document.all||document.getElementById)for(i=0;i<a.length;i++){var b=a.elements[i];"submit"!=b.type.toLowerCase()&&"reset"!=b.type.toLowerCase()||(b.disabled=!1)}}function check(a,b){var c=a.form,d=0;if(c){for(var e=0;e<c.elements.length;e++){var f=c.elements[e];"checkbox"==f.type&&"check[]"==f.name&&f.checked&&d++}d>=b?lock(c,!0):lock(c,!1)}}function lock(a,b){for(var c in a.elements){var d=a.elements[c];"checkbox"==d.type&&"check[]"==d.name&&(d.checked||(d.disabled=b))}}function reloadCaptcha(){gid("captcha").style.background="none",gid("captcha").innerHTML='<img src="captcha?nocache='+getrandom()+'" />'}function getrandom(){var a=200,b=1e3;b++;var c=b-a,d=Math.floor(Math.random()*c)+a;return d}function switchAdminBar(){"none"!=gid("_adminBar").style.display?(showhide("_adminBar"),showhide("_adminBarC"),setCookie("_adminBarCookie",!0,31536e6)):(showhide("_adminBar"),showhide("_adminBarC"),delCookie("_adminBarCookie"))}function changeIcon(a,b){gid(b).src=a}function in_array(a,b){for(key in a)if(a[key]==b)return!0;return!1}function resetForm(a){var b=a.form;if(b)for(var c in b.elements){var d=b.elements[c];alert(d.type)}}function genRating(a,b,c,d,e,f,g,h,i){var j=0==e?0:d/e*b,k=j>b*c?b*c:j;if(rat='<ul class="'+a+'" style="width:'+b*c+'px;">',rat+='<li class="choosen" style="width:'+k+'px;" title="'+i+'">&nbsp;</li>',""==f)for(var l=["one","two","three","four","five","six","seven","eight","nine","ten"],m=1;m<=c;m++)rat+='<li><a href="javascript:void(0)" onclick="vote('+g+", '"+h+"', "+m+')" class="'+l[m-1]+'-stars">'+m+"</a></li>";rat+="</ul>",gid("rating"+g).innerHTML=rat}function vote(id,module,num){AJAXEngine.async=!1,AJAXEngine.setPostVar("id",id),AJAXEngine.setPostVar("module",module),AJAXEngine.setPostVar("num",num),AJAXEngine.sendRequest("ajax.php?do=vote","rat"+id),eval("genRating("+gid("rat"+id).innerHTML+");")}function do_carma(a,b){AJAXEngine.async=!1,AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("type",b),AJAXEngine.sendRequest("ajax.php?do=carma_vote","rating"+a)}var userMod=!1;