function ajaxSimple(a,b,c){AJAXEngine.sendRequest(a,b)}function fastCancel(a,b,c,d){AJAXEngine.setPostVar("blocked",""),AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("module",b),AJAXEngine.setPostVar("type",c),AJAXEngine.sendRequest("ajax.php?do=fast_edit",d)}function commentCancel(a){AJAXEngine.setPostVar("blocked",""),AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("ajax.php?do=commentEditAjax","comment_"+a)}function fileList(a,b,c,d){AJAXEngine.setPostVar(c,d),AJAXEngine.setPostVar("module",b),AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("ajax.php?do=fileList","filelist")}function fast_edit(a,b,c){AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("module",c),AJAXEngine.setPostVar("type",b),AJAXEngine.sendRequest("ajax.php?do=fast_edit",b+"-"+a)}function fast_post(a){AJAXEngine.setPostVar("text",htmlSpecialChars(gid("edit").value)),AJAXEngine.setPostVar("id",gid("id").value),AJAXEngine.setPostVar("module",gid("module").value),AJAXEngine.setPostVar("type",gid("type").value),AJAXEngine.sendRequest("ajax.php?do=fast_save",a)}function initRating(a,b,c,d){AJAXEngine.showedLoadBar="",AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("module",b),AJAXEngine.setPostVar("score",c),AJAXEngine.setPostVar("votes",d),AJAXEngine.setPostVar("ajaxR","1"),AJAXEngine.sendRequest("ajax.php?do=genRating","rating_"+a)}function dopoll(a,b){var c="",d=gid(a);if(d)for(var e=0;e<d.elements.length;e++){var f=d.elements[e];"checkbox"==f.type&&"check[]"==f.name&&f.checked&&(c=c+"|"+f.value),"radio"==f.type&&"check[]"==f.name&&f.checked&&(c=c+"|"+f.value)}c?(AJAXEngine.setPostVar("checks",c),AJAXEngine.setPostVar("pid",b),AJAXEngine.sendRequest("ajax.php?do=poll/doVote",b)):alert("Вы не выбрали ни одного варианта ответа!")}function comment_post(a){return tinyMCE.triggerSave(),""==gid("text").value?(alert("Поле с текстом оставлено пустым!"),!1):(AJAXEngine.setPostVar("text",htmlSpecialChars(gid("text").value)),AJAXEngine.setPostVar("id",gid("nid").value),AJAXEngine.setPostVar("author",gid("author")?gid("author").value:""),AJAXEngine.setPostVar("email",gid("email")?gid("email").value:""),AJAXEngine.setPostVar("url",gid("url")?gid("url").value:""),AJAXEngine.setPostVar("mod",gid("mod").value),AJAXEngine.setPostVar("reply_to",gid("reply_to").value),AJAXEngine.setPostVar("securityCode",gid("securityCode")?gid("securityCode").value:""),AJAXEngine.setPostVar("subscribe",gid("subscribe")?gid("subscribe").value:""),AJAXEngine.setPostVar("commNum",gid("hideCommNum").innerHTML),AJAXEngine.setPostVar("g-recaptcha-response",document.getElementById("g-recaptcha-response")?document.getElementById("g-recaptcha-response").value:""),AJAXEngine.sendRequest("ajax.php?do=comment_savea",a),void(gid("securityCode").value=""))}function commentPage(a,b,c){AJAXEngine.setPostVar("mod",encodeURI(a,!0)),AJAXEngine.setPostVar("pid",b),AJAXEngine.setPostVar("page",c),AJAXEngine.setPostVar("commNum",gid("hideCommNum").innerHTML),AJAXEngine.sendRequest("ajax.php?do=commentPage","commentBox")}function commentEditSave(a){AJAXEngine.setPostVar("text",htmlSpecialChars(gid("edit").value)),AJAXEngine.setPostVar("id",gid("id").value),AJAXEngine.sendRequest("ajax.php?do=commentEditAjaxSave",a)}function commentEdit(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("ajax.php?do=commentEditAjax",b)}function commentDelete(a,b,c,d,e){getConfirm("Удалить комментарий под №"+a+"?")&&(AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("mod",c),AJAXEngine.setPostVar("nid",d),AJAXEngine.sendRequest("ajax.php?do=commentDeleteAjax",b),setTimeout("commentPage('"+c+"', "+d+", "+e+")",5e3))}function subscribeComments(a,b){AJAXEngine.setPostVar("mod",gid("mod").value),AJAXEngine.setPostVar("nid",gid("nid").value),AJAXEngine.setPostVar("do",a),AJAXEngine.sendRequest("ajax.php?do=commentSubscribe",b)}function searchList(a,b){a.length>3&&("none"==gid(b).style.display&&showhide(b),AJAXEngine.showedLoadBar=!1,AJAXEngine.setPostVar("query",encodeURI(a,!0)),AJAXEngine.sendRequest("ajax.php?do=searchList",b))}function check_news(a,b){AJAXEngine.setPostVar("query",encodeURI(gid(a).value)),AJAXEngine.sendRequest("ajax.php?do=searchList",b)}function addCarma(a,b){return""==gid("carmaDo").value||""==gid("carmaText").value?(alert("Вы не ввели сообщение для пользователя"),!1):(AJAXEngine.setPostVar("uid",a),AJAXEngine.setPostVar("does",gid("carmaDo").value),AJAXEngine.setPostVar("text",gid("carmaText").value),AJAXEngine.sendRequest("ajax.php?do=addCarma","p"+b),void clearModal_box(b))}function adminBlock(a,b,c,d,e){AJAXEngine.setPostVar("id",b),AJAXEngine.setPostVar("to",c),AJAXEngine.setPostVar("from",d),AJAXEngine.setPostVar("topos",e),AJAXEngine.sendRequest("ajax.php?do="+a,"blockBox")}function adminBlockStatus(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("to",b),AJAXEngine.sendRequest("ajax.php?do=setBlockStatus","blockBox")}function userBlockStatus(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("to",b),AJAXEngine.sendRequest("ajax.php?do=blockStatus","blockOk"+a),setTimeout("innerEmpt('blockOk"+a+"')",4e3)}function adminCommentStatus(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("to",b),AJAXEngine.sendRequest("ajax.php?do=setCommentStatus","statusIcon_"+a)}function blockDelete(a){getConfirm("Вы уверены что хотите удалить блок?")&&(AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("ajax.php?do=deleteBlock","blockBox"))}function userBlockDelete(a){getConfirm("Вы уверены что хотите удалить блок?")&&(AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("ajax.php?do=userDeleteBlock","blockOk"+a),setTimeout("innerEmpt('blockOk"+a+"')",4e3))}function SaveTitle(a,b,c){AJAXEngine.setPostVar("id",b),AJAXEngine.setPostVar("module",a),AJAXEngine.setPostVar("text",c),AJAXEngine.sendRequest("ajax.php?do=editTitle","editTitle_"+b)}function innerEmpt(a){gid(a).innerHTML=""}function updateCatList(a,b){AJAXEngine.setPostVar("mod",a),AJAXEngine.sendRequest("ajax.php?do=getCatByModule",b)}function checkLogin(a,b,c){a.length>1&&("none"==gid(b).style.display&&showhide(b),AJAXEngine.showedLoadBar=!1,AJAXEngine.setPostVar("query",encodeURI(a,!0)),AJAXEngine.setPostVar("input",c),AJAXEngine.sendRequest("ajax.php?do=loginList",b))}function complitLoad(a,b,c){AJAXEngine.setPostVar("id",a),AJAXEngine.setPostVar("mod",b),AJAXEngine.sendRequest("ajax.php?do=fileList",c)}function forumPostEdit(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("index.php?url=board/ajax/fastForm",b)}function forumSaveEdit(a,b){AJAXEngine.setPostVar("text",document.getElementById("edit").value),AJAXEngine.setPostVar("id",document.getElementById("id").value),1==document.getElementById("files").value&&AJAXEngine.setPostVar("files",document.getElementById("files").value),AJAXEngine.sendRequest("index.php?url=board/ajax/fastSave"+b,a)}function forumPostDelete(a,b){AJAXEngine.setPostVar("id",a),AJAXEngine.sendRequest("index.php?url=board/ajax/delete",b)}function delFriend(a,b){AJAXEngine.setPostVar("uid",a),AJAXEngine.sendRequest("ajax.php?do=friendsAjax/delete",b)}function addFriend(a){AJAXEngine.setPostVar("uid",a),AJAXEngine.sendRequest("ajax.php?do=friendsAjax/add","friendDo")}function acceptFriend(a,b){AJAXEngine.setPostVar("uid",a),AJAXEngine.sendRequest("ajax.php?do=friendsAjax/accept",b)}function blogRating(a,b){AJAXEngine.setPostVar("pid",a),AJAXEngine.sendRequest("index.php?url=blog/ajaxRating",b)}this.JMY_Ajax=function(){this.replace_id=!1,this.xmlhttp=!1,this.postVars=!1,this.queryType=!1,this.showedLoadBar="loading",this.async=!0,this._response="",this.formatLoader=function(){var a=document.documentElement.scrollTop;document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?clHeight=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(clHeight=document.body.clientHeight),topOffset=a+clHeight/3+"px"},this.showLoader=function(a){},this.run=function(){try{this.xmlhttp=new XMLHttpRequest}catch(a){try{this.xmlhttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){alert("Хъюстон у нас проблемы...")}}}1==this.async&&(this.xmlhttp.onreadystatechange=this.onReady)};var a=this;this.onReady=function(){4==a.xmlhttp.readyState&&(200==a.xmlhttp.status?(""!=this.replace_id&&(document.getElementById(a.replace_id).innerHTML=a.xmlhttp.responseText),0==this.async&&(a._response=a.xmlhttp.responseText),""!=a.showedLoadBar&&a.showLoader(0),this.replace_id=!1,this.xmlhttp=!1,this.postVars=!1,this.showedLoadBar="loading"):a.isAlert&&alert(a.messageConnectError))},this.setPostVar=function(a,b){0==this.postVars?this.postVars="":this.postVars+="&",this.postVars+=a+"="+encodeURIComponent(b)},this.notAsyncReq=function(b){""!=this.showedLoadBar&&(this.formatLoader(),this.showLoader(1));var c;try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){c=!1}}if(c||"undefined"==typeof XMLHttpRequest||(c=new XMLHttpRequest),c.open("POST",b,!1),c.send(null),200==c.status)return""!=a.showedLoadBar&&a.showLoader(0),c.responseText},this.sendRequest=function(a,b){this.run(),this.replace_id=b;var c=(-1<a.indexOf("?")?"&":"?")+"nocache="+Math.random();""!=this.showedLoadBar&&(this.formatLoader(),this.showLoader(1)),this.xmlhttp.open("POST",a+c,this.async),this.xmlhttp.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"),this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.postVars?this.xmlhttp.send(this.postVars):this.xmlhttp.send(null),0==this.async&&(document.getElementById(this.replace_id).innerHTML=this.xmlhttp.responseText,this._response=this.xmlhttp.responseText,""!=this.showedLoadBar&&this.showLoader(0))}};var AJAXEngine=new JMY_Ajax;